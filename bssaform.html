<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Discipline Evaluation Form</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2 { color: #2c3e50; }
    .question { margin-bottom: 15px; }
    .options label { margin-right: 15px; }
    .submit-btn {
      margin-top: 20px;
      padding: 10px 20px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .submit-btn:hover { background: #2980b9; }
  </style>
</head>
<body>
  <h2>Student Discipline Evaluation</h2>
  <form id="disciplineForm">
    <label>Student Name: <input type="text" name="name" required></label><br><br>
    <label>Class: <input type="text" name="class" required></label><br><br>
    <label>Student Number: <input type="text" name="student_number" required></label><br><br>

    <div id="questions"></div>

    <button type="submit" class="submit-btn">Submit</button>
  </form>

  <p id="response"></p>

  <script>
    const questions = [
      "Raise hand in class",
      "Act up in line",
      "Arrive to class on time",
      "Do what I am told",
      "Behave for a substitute",
      "Talk in class",
      "Write on desks",
      "Write on chairs",
      "Lean back in chairs",
      "Chew gum in class",
      "Throw objects in class",
      "Touch other students",
      "Take other’s things",
      "Have all materials for class",
      "Help teacher when asked",
      "Act politely",
      "Pay attention in class",
      "Clean up desk area",
      "Accept extra duties in class",
      "Use restroom time properly",
      "Turn in found objects",
      "Obey school rules",
      "Obey classroom rules",
      "Copies work from others",
      "Use abusive language"
    ];

    const options = ["Always", "Usually", "Sometimes", "Hardly Ever", "Never"];
    const formContainer = document.getElementById("questions");

    questions.forEach((q, index) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<p><b>${index + 1}. ${q}</b></p>`;
      const opts = options.map(o =>
        `<label><input type="radio" name="${q.toLowerCase().replace(/[^a-z0-9]/g, '_')}" value="${o}" required> ${o}</label>`
      ).join(" ");
      div.innerHTML += `<div class="options">${opts}</div>`;
      formContainer.appendChild(div);
    });

    document.getElementById("disciplineForm").addEventListener("submit", function(e){
      e.preventDefault();

      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => { data[key] = value });

      fetch("https://script.google.com/macros/s/AKfycbzZkiWKiojCfL748UZYZ6nhtP26C4uhL89mswJaJnHpsw8tCQAQ3R2WgKjpmj7UMk34/exec", {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.json())
      .then(response => {
        document.getElementById("response").innerText =
          "✅ Submitted successfully! Discipline Score: " + response.score;
        document.getElementById("disciplineForm").reset();
      })
      .catch(err => {
        document.getElementById("response").innerText =
          "❌ Submission failed: " + err.message;
      });
    });
  </script>
</body>
</html>
