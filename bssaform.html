<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Behaviour Checklist Form</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f7f7fb; padding:20px; }
    h1 { text-align:center; }
    table { width:100%; border-collapse:collapse; margin:20px 0; background:#fff; }
    th, td { border:1px solid #ddd; padding:8px; text-align:center; }
    th:first-child, td:first-child { text-align:left; }
    th { background:#f0f0f0; }
    .field { margin:10px 0; }
    label { font-weight:bold; }
    input, button { padding:8px; border-radius:5px; border:1px solid #ccc; width:100%; }
    button { background:#2563eb; color:white; cursor:pointer; }
    button:hover { background:#1e4db7; }
    .toast { display:none; margin-top:10px; padding:10px; border-radius:6px; }
    .toast.ok { background:#d1fae5; color:#065f46; }
    .toast.err { background:#fee2e2; color:#7f1d1d; }
  </style>
</head>
<body>
  <h1>Behaviour Checklist</h1>

  <form id="behaviourForm">
    <div class="field">
      <label for="studentName">Student Name *</label>
      <input id="studentName" name="Student Name" required />
    </div>
    <div class="field">
      <label for="studentClass">Class *</label>
      <input id="studentClass" name="Class" required />
    </div>
    <div class="field">
      <label for="date">Date *</label>
      <input id="date" name="Date" type="date" required />
    </div>
    <div class="field">
      <label for="teacher">Teacher</label>
      <input id="teacher" name="Teacher" />
    </div>

    <table>
      <thead>
        <tr>
          <th>Behaviour</th>
          <th>A</th><th>U</th><th>S</th><th>H</th><th>N</th>
        </tr>
      </thead>
      <tbody id="behaviourRows"></tbody>
    </table>

    <button type="submit">Submit</button>
    <div id="toastOk" class="toast ok">✅ Saved! Your response was sent.</div>
    <div id="toastErr" class="toast err">❌ Failed to submit. Please try again.</div>
  </form>

  <script>
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxNkQa1okQg_vksdSMjv5ZgEgSu_8f6fA2iZn7Y6-kDS1U2vHMHPvX0u9pxB5JM1uHE/exec";

    const behaviours = [
      "Raise hand in class",
      "Act up in line",
      "Arrive to class on time",
      "Do what I am told",
      "Behave for a substitute",
      "Talk in class",
      "Write on desks",
      "Write on chairs",
      "Lean back in chairs",
      "Chew gum in class",
      "Throw objects in class",
      "Touch other students",
      "Take other’s things",
      "Have all materials for class",
      "Help teacher when asked",
      "Act politely",
      "Pay attention in class",
      "Clean up desk area",
      "Accept extra duties in class",
      "Use restroom time properly",
      "Turn in found objects",
      "Obey school rules",
      "Obey classroom rules",
      "Copies work from others",
      "Use abusive language"
    ];

    const tbody = document.getElementById('behaviourRows');
    const scale = ['A','U','S','H','N'];

    behaviours.forEach((b, idx) => {
      const key = `B${idx+1}`;
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td><label>${b}</label></td>
        ${scale.map(v => `<td><input type="radio" name="${b}" value="${v}" required></td>`).join('')}
      `;
      tbody.appendChild(tr);
    });

    const form = document.getElementById('behaviourForm');
    const ok = document.getElementById('toastOk');
    const err = document.getElementById('toastErr');

    function show(el){ el.style.display='block'; setTimeout(()=> el.style.display='none', 4000); }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(form);
      try {
        const res = await fetch(WEB_APP_URL, { method: 'POST', body: fd });
        if (!res.ok) throw new Error('Bad response');
        form.reset();
        show(ok);
      } catch(e) {
        console.error(e);
        show(err);
      }
    });
  </script>
</body>
</html>
